{"title":"Lyrics On Panel -- KDE/PLASMA5下基于QML + MPRIS2的 菜单栏/桌面/任务栏 歌词小组件的开发","uid":"e3d52c82ec9d0e397162fdf9ef9d2323","slug":"Lyrics On Panel -- KDE PLASMA下基于QML的小组件的开发","date":"2024-03-04T17:50:10.959Z","updated":"2024-03-26T13:11:12.670Z","comments":true,"path":"api/articles/Lyrics On Panel -- KDE PLASMA下基于QML的小组件的开发.json","keywords":"Kangwei Zhu's Blog","cover":[],"content":"<h2 id=\"0-前言\"><a href=\"#0-前言\" class=\"headerlink\" title=\"0. 前言\"></a>0. 前言</h2><blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>使用 ArchLinux 以及 Manjaro 这两个kde下的系统时，窗体以及桌面效果其实已经能够几乎完美的模仿macOS了。唯一觉得很尴尬的就是Linux下的播放器，做不到和mac下一样，在菜单栏中显示歌词和切歌（实际上是有好几个轮子组合起来是能够做到差不多效果的）。比如</p>\n<ul>\n<li>YesPlayMusic的歌词组件 <a href=\"https://github.com/zsiothsu/org.kde.plasma.yesplaymusic-lyrics\">https://github.com/zsiothsu/org.kde.plasma.yesplaymusic-lyrics</a> </li>\n<li>显示正在播放的歌曲的 歌名丨歌手名 <a href=\"https://github.com/JunoNgx/kde-currently-playing\">https://github.com/JunoNgx/kde-currently-playing</a></li>\n<li>媒体控制（前进，后退，暂停，etc.）<a href=\"https://github.com/panagiotopoulos/MediaBar/\">https://github.com/panagiotopoulos/MediaBar/</a></li>\n<li>KDE Media Controller &#x2F;usr&#x2F;share&#x2F;plasma&#x2F;plasmoids&#x2F;org.kde.plasma.mediacontroller<br>但是这几个组件组合起来之后，样式挺奇怪的，不够integrated。而且多多少少有点bug。</li>\n</ul>\n<p>所以打算写一款在能够在 plasma panel 中能够 显示歌词 和 控制音乐播放 的小组件。最后效果应该长这样子。</p>\n<p><img src=\"/../img/image-20240305020743638.png\" alt=\"image-20240305020743638\"></p>\n<p>​\t<img src=\"/../img/image-20240314154831875.png\" alt=\"image-20240314154831875\"></p>\n<p>最后感谢上面四个repo的作者们。本组件的开发参考了你们的部分实现思路。</p>\n<p>项目源码： <a href=\"https://github.com/KangweiZhu/lyrics-on-panel\">https://github.com/KangweiZhu/lyrics-on-panel</a></p>\n<p>Kde Store地址： <a href=\"https://store.kde.org/p/2138263\">https://store.kde.org/p/2138263</a></p></blockquote>\n<h2 id=\"1-项目结构\"><a href=\"#1-项目结构\" class=\"headerlink\" title=\"1. 项目结构\"></a>1. 项目结构</h2><p>根据<a href=\"https://develop.kde.org/docs/plasma/widget/setup/%EF%BC%8Cqml\">https://develop.kde.org/docs/plasma/widget/setup/，qml</a> widget项目结构应该是这样子的</p>\n<div class=\"language-txt\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">txt</span><pre class=\"shiki rose-pine-moon\" style=\"background-color: #232136\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #e0def4\">└── ~/Code/plasmoid-helloworld/</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">    └── package</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">        ├── contents</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">        │   ├── ui</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">        │   │   ├── main.qml</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">        │   │   └── configGeneral.qml</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">        │   └── config</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">        │       ├── config.qml</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">        │       └── main.xml</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">        └── metadata.json</span></span></code></pre></div><p>但是你可以先这样子创建你的目录。</p>\n<p>edit: 就算你要上传到kde store, 也是用以下这个目录形式。</p>\n<p>└── ~&#x2F;Code&#x2F;plasmoid-helloworld&#x2F;<br>   ├── contents<br>    │   ├── ui<br>    │   │   ├── main.qml<br>    │   │   └── configGeneral.qml<br>    │   └── config<br>    │       ├── config.qml<br>    │       └── main.xml<br>   └── metadata.json</p>\n<h2 id=\"2-如何找到系统自带组件和你已经下载的组件\"><a href=\"#2-如何找到系统自带组件和你已经下载的组件\" class=\"headerlink\" title=\"2. 如何找到系统自带组件和你已经下载的组件\"></a>2. 如何找到系统自带组件和你已经下载的组件</h2><p>系统自带组件在<code>/usr/share/plasma/plasmoids/</code>里面</p>\n<p>下载的组件<code>/home/你的用户名/.local/share/plasma/plasmoids</code></p>\n<p>由于kde关于组件开发的文档其实不是很全，所以可以将这些自带的组建作为参考资料。</p>\n<h2 id=\"3-调试组件\"><a href=\"#3-调试组件\" class=\"headerlink\" title=\"3. 调试组件\"></a>3. 调试组件</h2><p>有三种可用调试工具。同样在kde文档上写了。具体了解可以去看“Testing”部分。这里推荐使用<code>plasmoidviewer</code>, 需要在pamac中下载，并下载其依赖。</p>\n<div class=\"language-bash\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">bash</span><pre class=\"shiki rose-pine-moon\" style=\"background-color: #232136\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #EA9A97\">plasmoidviewer</span><span style=\"color: #E0DEF4\"> </span><span style=\"color: #3E8FB0\">-a</span><span style=\"color: #E0DEF4\"> </span><span style=\"color: #F6C177\">/home/anicaa/.local/share/plasma/plasmoids/org.kde.plasma.lyrics-on-panel</span></span></code></pre></div><p>替换成你的项目路径就可以</p>\n<hr>\n<p>当然，我们也可以直接在目前的plasma panel上调试。</p>\n<ol>\n<li>删除已安装的本插件（如果安装过了的话）</li>\n</ol>\n<div class=\"language-bash\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">bash</span><pre class=\"shiki rose-pine-moon\" style=\"background-color: #232136\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #EA9A97\">kpackagetool5</span><span style=\"color: #E0DEF4\"> </span><span style=\"color: #3E8FB0\">-t</span><span style=\"color: #E0DEF4\"> </span><span style=\"color: #F6C177\">Plasma/Applet</span><span style=\"color: #E0DEF4\"> </span><span style=\"color: #3E8FB0\">-r</span><span style=\"color: #E0DEF4\"> </span><span style=\"color: #F6C177\">/home/anicaa/文档/com.github.KangweiZhu.lyrics-on-panel-plasma5</span><span style=\"color: #E0DEF4\"> </span></span></code></pre></div><ol start=\"2\">\n<li>安装本插件</li>\n</ol>\n<div class=\"language-txt\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">txt</span><pre class=\"shiki rose-pine-moon\" style=\"background-color: #232136\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #e0def4\">kpackagetool5 -t Plasma/Applet -i /home/anicaa/文档/com.github.KangweiZhu.lyrics-on-panel-plasma5</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\"></span></span></code></pre></div><ol start=\"3\">\n<li>重启panel</li>\n</ol>\n<div class=\"language-bash\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">bash</span><pre class=\"shiki rose-pine-moon\" style=\"background-color: #232136\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #EA9A97\">plasmashell</span><span style=\"color: #E0DEF4\"> </span><span style=\"color: #3E8FB0\">--replace</span><span style=\"color: #E0DEF4\"> </span></span></code></pre></div><h2 id=\"4-mpris2\"><a href=\"#4-mpris2\" class=\"headerlink\" title=\"4. mpris2\"></a>4. mpris2</h2><blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>Ref: <a href=\"https://www.freedesktop.org/wiki/Specifications/mpris-spec/metadata/\">https://www.freedesktop.org/wiki/Specifications/mpris-spec/metadata/</a></p>\n<p><a href=\"https://readthedocs.org/projects/mpris2/downloads/pdf/latest/\">https://readthedocs.org/projects/mpris2/downloads/pdf/latest/</a></p></blockquote>\n<p>只用这个。本地的媒体数据源。</p>\n<p>在console中查看所有信息。</p>\n<div class=\"language-txt\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">txt</span><pre class=\"shiki rose-pine-moon\" style=\"background-color: #232136\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #e0def4\">//main.qml</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">import QtQuick 2.0</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">import org.kde.plasma.core 2.0 as PlasmaCore</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\"></span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">Item &#123;</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">    PlasmaCore.DataSource &#123;</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">        id: mpris2Source</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">        engine: &quot;mpris2&quot;</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">        connectedSources: sources</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">        interval: 100  // Polling interval in milliseconds.</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\"></span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">        readonly property var multiplex: data[&quot;@multiplex&quot;]</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\"></span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">        onDataChanged: &#123;</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">            console.log(&quot;Data changed!&quot;);</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">            for (var key in mpris2Source.data) &#123;</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">                console.log(key + &quot;: &quot; + JSON.stringify(mpris2Source.data[key]));</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">            &#125;</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">        &#125;</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">    &#125;</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">&#125;</span></span></code></pre></div><div class=\"language-bash\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">bash</span><pre class=\"shiki rose-pine-moon\" style=\"background-color: #232136\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #EA9A97\">qml:</span><span style=\"color: #E0DEF4\"> </span><span style=\"color: #F6C177\">@multiplex:</span><span style=\"color: #E0DEF4\"> </span><span style=\"color: #F6C177\">&#123;&quot;CanControl&quot;:</span><span style=\"color: #EA9A97\">true</span><span style=\"color: #F6C177\">,&quot;CanGoNext&quot;:</span><span style=\"color: #EA9A97\">true</span><span style=\"color: #F6C177\">,&quot;CanGoPrevious&quot;:</span><span style=\"color: #EA9A97\">true</span><span style=\"color: #F6C177\">,&quot;CanPause&quot;:</span><span style=\"color: #EA9A97\">true</span><span style=\"color: #F6C177\">,&quot;CanPlay&quot;:</span><span style=\"color: #EA9A97\">true</span><span style=\"color: #F6C177\">,&quot;CanQuit&quot;:</span><span style=\"color: #EA9A97\">true</span><span style=\"color: #F6C177\">,&quot;CanRaise&quot;:</span><span style=\"color: #EA9A97\">true</span><span style=\"color: #F6C177\">,&quot;CanSeek&quot;:</span><span style=\"color: #EA9A97\">true</span><span style=\"color: #F6C177\">,&quot;DesktopEntry&quot;:&quot;&quot;,&quot;Fullscreen&quot;:</span><span style=\"color: #EA9A97\">false</span><span style=\"color: #F6C177\">,&quot;Identity&quot;:&quot;YesPlayMusic&quot;,&quot;InstancePid&quot;:58382,&quot;LoopStatus&quot;:&quot;None&quot;,&quot;MaximumRate&quot;:1,&quot;Metadata&quot;:&#123;&quot;mpris:artUrl&quot;:&quot;https://p1.music.126.net/UeTuwE7pvjBpypWLudqukA==/3132508627578625.jpg?param=224y224&quot;,&quot;mpris:length&quot;:431000000,&quot;mpris:trackid&quot;:&quot;&quot;,&quot;xesam:artist&quot;:[&quot;&quot;],&quot;xesam:title&quot;:&quot;沈园外0.9&quot;&#125;,&quot;MinimumRate&quot;:1,&quot;PlaybackStatus&quot;:&quot;Paused&quot;,&quot;Position&quot;:132568986,&quot;Position last updated (UTC)&quot;:&quot;2024-03-07T11:27:25.263Z&quot;,&quot;Rate&quot;:1,&quot;Shuffle&quot;:</span><span style=\"color: #EA9A97\">false</span><span style=\"color: #F6C177\">,&quot;Source Name&quot;:&quot;yesplaymusic&quot;,&quot;SupportedMimeTypes&quot;:[],&quot;SupportedUriSchemes&quot;:[],&quot;Volume&quot;:0&#125;</span></span>\n<span class=\"line\"><span style=\"color: #EA9A97\">qml:</span><span style=\"color: #E0DEF4\"> </span><span style=\"color: #F6C177\">chromium.instance2616:</span><span style=\"color: #E0DEF4\"> </span><span style=\"color: #F6C177\">&#123;&quot;CanControl&quot;:</span><span style=\"color: #EA9A97\">true</span><span style=\"color: #F6C177\">,&quot;CanGoNext&quot;:</span><span style=\"color: #EA9A97\">false</span><span style=\"color: #F6C177\">,&quot;CanGoPrevious&quot;:</span><span style=\"color: #EA9A97\">false</span><span style=\"color: #F6C177\">,&quot;CanPause&quot;:</span><span style=\"color: #EA9A97\">false</span><span style=\"color: #F6C177\">,&quot;CanPlay&quot;:</span><span style=\"color: #EA9A97\">false</span><span style=\"color: #F6C177\">,&quot;CanQuit&quot;:</span><span style=\"color: #EA9A97\">false</span><span style=\"color: #F6C177\">,&quot;CanRaise&quot;:</span><span style=\"color: #EA9A97\">false</span><span style=\"color: #F6C177\">,&quot;CanSeek&quot;:</span><span style=\"color: #EA9A97\">false</span><span style=\"color: #F6C177\">,&quot;Identity&quot;:&quot;Chrome&quot;,&quot;InstancePid&quot;:2616,&quot;MaximumRate&quot;:1,&quot;Metadata&quot;:&#123;&quot;mpris:trackid&quot;:&quot;&quot;,&quot;xesam:album&quot;:&quot;&quot;,&quot;xesam:artist&quot;:[&quot;&quot;],&quot;xesam:title&quot;:&quot;&quot;&#125;,&quot;MinimumRate&quot;:1,&quot;PlaybackStatus&quot;:&quot;Stopped&quot;,&quot;Position&quot;:0,&quot;Position last updated (UTC)&quot;:&quot;2024-03-07T11:27:25.364Z&quot;,&quot;Rate&quot;:1,&quot;SupportedMimeTypes&quot;:[],&quot;SupportedUriSchemes&quot;:[],&quot;Volume&quot;:1&#125;</span></span>\n<span class=\"line\"><span style=\"color: #EA9A97\">qml:</span><span style=\"color: #E0DEF4\"> </span><span style=\"color: #F6C177\">yesplaymusic:</span><span style=\"color: #E0DEF4\"> </span><span style=\"color: #F6C177\">&#123;&quot;CanControl&quot;:</span><span style=\"color: #EA9A97\">true</span><span style=\"color: #F6C177\">,&quot;CanGoNext&quot;:</span><span style=\"color: #EA9A97\">true</span><span style=\"color: #F6C177\">,&quot;CanGoPrevious&quot;:</span><span style=\"color: #EA9A97\">true</span><span style=\"color: #F6C177\">,&quot;CanPause&quot;:</span><span style=\"color: #EA9A97\">true</span><span style=\"color: #F6C177\">,&quot;CanPlay&quot;:</span><span style=\"color: #EA9A97\">true</span><span style=\"color: #F6C177\">,&quot;CanQuit&quot;:</span><span style=\"color: #EA9A97\">true</span><span style=\"color: #F6C177\">,&quot;CanRaise&quot;:</span><span style=\"color: #EA9A97\">true</span><span style=\"color: #F6C177\">,&quot;CanSeek&quot;:</span><span style=\"color: #EA9A97\">true</span><span style=\"color: #F6C177\">,&quot;DesktopEntry&quot;:&quot;&quot;,&quot;Fullscreen&quot;:</span><span style=\"color: #EA9A97\">false</span><span style=\"color: #F6C177\">,&quot;Identity&quot;:&quot;YesPlayMusic&quot;,&quot;InstancePid&quot;:58382,&quot;LoopStatus&quot;:&quot;None&quot;,&quot;MaximumRate&quot;:1,&quot;Metadata&quot;:&#123;&quot;mpris:artUrl&quot;:&quot;https://p1.music.126.net/UeTuwE7pvjBpypWLudqukA==/3132508627578625.jpg?param=224y224&quot;,&quot;mpris:length&quot;:431000000,&quot;mpris:trackid&quot;:&quot;&quot;,&quot;xesam:artist&quot;:[&quot;&quot;],&quot;xesam:title&quot;:&quot;沈园外0.9&quot;&#125;,&quot;MinimumRate&quot;:1,&quot;PlaybackStatus&quot;:&quot;Paused&quot;,&quot;Position&quot;:132568986,&quot;Position last updated (UTC)&quot;:&quot;2024-03-07T11:27:25.263Z&quot;,&quot;Rate&quot;:1,&quot;Shuffle&quot;:</span><span style=\"color: #EA9A97\">false</span><span style=\"color: #F6C177\">,&quot;SupportedMimeTypes&quot;:[],&quot;SupportedUriSchemes&quot;:[],&quot;Volume&quot;:0&#125;</span></span>\n<span class=\"line\"><span style=\"color: #EA9A97\">qml:</span><span style=\"color: #E0DEF4\"> </span><span style=\"color: #F6C177\">objectNameChanged:</span><span style=\"color: #E0DEF4\"> </span><span style=\"color: #F6C177\">undefined</span></span>\n<span class=\"line\"><span style=\"color: #EA9A97\">qml:</span><span style=\"color: #E0DEF4\"> </span><span style=\"color: #F6C177\">valueChanged:</span><span style=\"color: #E0DEF4\"> </span><span style=\"color: #F6C177\">undefined</span></span>\n<span class=\"line\"><span style=\"color: #EA9A97\">qml:</span><span style=\"color: #E0DEF4\"> </span><span style=\"color: #F6C177\">keys:</span><span style=\"color: #E0DEF4\"> </span><span style=\"color: #F6C177\">undefined</span></span>\n<span class=\"line\"><span style=\"color: #EA9A97\">qml:</span><span style=\"color: #E0DEF4\"> </span><span style=\"color: #F6C177\">__0:</span><span style=\"color: #E0DEF4\"> </span><span style=\"color: #F6C177\">undefined</span></span>\n<span class=\"line\"><span style=\"color: #EA9A97\">qml:</span><span style=\"color: #E0DEF4\"> </span><span style=\"color: #F6C177\">__1:</span><span style=\"color: #E0DEF4\"> </span><span style=\"color: #F6C177\">undefined</span></span>\n<span class=\"line\"><span style=\"color: #EA9A97\">qml:</span><span style=\"color: #E0DEF4\"> </span><span style=\"color: #F6C177\">__2:</span><span style=\"color: #E0DEF4\"> </span><span style=\"color: #F6C177\">undefined</span></span>\n<span class=\"line\"><span style=\"color: #EA9A97\">kde.dataengine.mpris:</span><span style=\"color: #E0DEF4\"> </span><span style=\"color: #F6C177\">&quot;org.mpris.MediaPlayer2.chromium.instance2616&quot;</span><span style=\"color: #E0DEF4\"> </span><span style=\"color: #F6C177\">has</span><span style=\"color: #E0DEF4\"> </span><span style=\"color: #F6C177\">an</span><span style=\"color: #E0DEF4\"> </span><span style=\"color: #F6C177\">invalid</span><span style=\"color: #E0DEF4\"> </span><span style=\"color: #F6C177\">URL</span><span style=\"color: #E0DEF4\"> </span><span style=\"color: #F6C177\">for</span><span style=\"color: #E0DEF4\"> </span><span style=\"color: #F6C177\">the</span><span style=\"color: #E0DEF4\"> </span><span style=\"color: #F6C177\">mpris:artUrl</span><span style=\"color: #E0DEF4\"> </span><span style=\"color: #F6C177\">entry</span><span style=\"color: #E0DEF4\"> </span><span style=\"color: #F6C177\">of</span><span style=\"color: #E0DEF4\"> </span><span style=\"color: #F6C177\">the</span><span style=\"color: #E0DEF4\"> </span><span style=\"color: #F6C177\">&quot;Metadata&quot;</span><span style=\"color: #E0DEF4\"> </span><span style=\"color: #F6C177\">property</span></span>\n<span class=\"line\"><span style=\"color: #EA9A97\">qml:</span><span style=\"color: #E0DEF4\"> </span><span style=\"color: #F6C177\">Data</span><span style=\"color: #E0DEF4\"> </span><span style=\"color: #F6C177\">changed!</span></span>\n<span class=\"line\"><span style=\"color: #EA9A97\">qml:</span><span style=\"color: #E0DEF4\"> </span><span style=\"color: #F6C177\">objectName:</span><span style=\"color: #E0DEF4\"> </span><span style=\"color: #F6C177\">&quot;&quot;</span></span>\n<span class=\"line\"><span style=\"color: #EA9A97\">qml:</span><span style=\"color: #E0DEF4\"> </span><span style=\"color: #F6C177\">@multiplex:</span><span style=\"color: #E0DEF4\"> </span><span style=\"color: #F6C177\">&#123;&quot;CanControl&quot;:</span><span style=\"color: #EA9A97\">true</span><span style=\"color: #F6C177\">,&quot;CanGoNext&quot;:</span><span style=\"color: #EA9A97\">true</span><span style=\"color: #F6C177\">,&quot;CanGoPrevious&quot;:</span><span style=\"color: #EA9A97\">true</span><span style=\"color: #F6C177\">,&quot;CanPause&quot;:</span><span style=\"color: #EA9A97\">true</span><span style=\"color: #F6C177\">,&quot;CanPlay&quot;:</span><span style=\"color: #EA9A97\">true</span><span style=\"color: #F6C177\">,&quot;CanQuit&quot;:</span><span style=\"color: #EA9A97\">true</span><span style=\"color: #F6C177\">,&quot;CanRaise&quot;:</span><span style=\"color: #EA9A97\">true</span><span style=\"color: #F6C177\">,&quot;CanSeek&quot;:</span><span style=\"color: #EA9A97\">true</span><span style=\"color: #F6C177\">,&quot;DesktopEntry&quot;:&quot;&quot;,&quot;Fullscreen&quot;:</span><span style=\"color: #EA9A97\">false</span><span style=\"color: #F6C177\">,&quot;Identity&quot;:&quot;YesPlayMusic&quot;,&quot;InstancePid&quot;:58382,&quot;LoopStatus&quot;:&quot;None&quot;,&quot;MaximumRate&quot;:1,&quot;Metadata&quot;:&#123;&quot;mpris:artUrl&quot;:&quot;https://p1.music.126.net/UeTuwE7pvjBpypWLudqukA==/3132508627578625.jpg?param=224y224&quot;,&quot;mpris:length&quot;:431000000,&quot;mpris:trackid&quot;:&quot;&quot;,&quot;xesam:artist&quot;:[&quot;&quot;],&quot;xesam:title&quot;:&quot;沈园外0.9&quot;&#125;,&quot;MinimumRate&quot;:1,&quot;PlaybackStatus&quot;:&quot;Paused&quot;,&quot;Position&quot;:132568986,&quot;Position last updated (UTC)&quot;:&quot;2024-03-07T11:27:25.364Z&quot;,&quot;Rate&quot;:1,&quot;Shuffle&quot;:</span><span style=\"color: #EA9A97\">false</span><span style=\"color: #F6C177\">,&quot;Source Name&quot;:&quot;yesplaymusic&quot;,&quot;SupportedMimeTypes&quot;:[],&quot;SupportedUriSchemes&quot;:[],&quot;Volume&quot;:0&#125;</span></span>\n<span class=\"line\"><span style=\"color: #EA9A97\">qml:</span><span style=\"color: #E0DEF4\"> </span><span style=\"color: #F6C177\">chromium.instance2616:</span><span style=\"color: #E0DEF4\"> </span><span style=\"color: #F6C177\">&#123;&quot;CanControl&quot;:</span><span style=\"color: #EA9A97\">true</span><span style=\"color: #F6C177\">,&quot;CanGoNext&quot;:</span><span style=\"color: #EA9A97\">false</span><span style=\"color: #F6C177\">,&quot;CanGoPrevious&quot;:</span><span style=\"color: #EA9A97\">false</span><span style=\"color: #F6C177\">,&quot;CanPause&quot;:</span><span style=\"color: #EA9A97\">false</span><span style=\"color: #F6C177\">,&quot;CanPlay&quot;:</span><span style=\"color: #EA9A97\">false</span><span style=\"color: #F6C177\">,&quot;CanQuit&quot;:</span><span style=\"color: #EA9A97\">false</span><span style=\"color: #F6C177\">,&quot;CanRaise&quot;:</span><span style=\"color: #EA9A97\">false</span><span style=\"color: #F6C177\">,&quot;CanSeek&quot;:</span><span style=\"color: #EA9A97\">false</span><span style=\"color: #F6C177\">,&quot;Identity&quot;:&quot;Chrome&quot;,&quot;InstancePid&quot;:2616,&quot;MaximumRate&quot;:1,&quot;Metadata&quot;:&#123;&quot;mpris:trackid&quot;:&quot;&quot;,&quot;xesam:album&quot;:&quot;&quot;,&quot;xesam:artist&quot;:[&quot;&quot;],&quot;xesam:title&quot;:&quot;&quot;&#125;,&quot;MinimumRate&quot;:1,&quot;PlaybackStatus&quot;:&quot;Stopped&quot;,&quot;Position&quot;:0,&quot;Position last updated (UTC)&quot;:&quot;2024-03-07T11:27:25.364Z&quot;,&quot;Rate&quot;:1,&quot;SupportedMimeTypes&quot;:[],&quot;SupportedUriSchemes&quot;:[],&quot;Volume&quot;:1&#125;</span></span>\n<span class=\"line\"><span style=\"color: #EA9A97\">qml:</span><span style=\"color: #E0DEF4\"> </span><span style=\"color: #F6C177\">yesplaymusic:</span><span style=\"color: #E0DEF4\"> </span><span style=\"color: #F6C177\">&#123;&quot;CanControl&quot;:</span><span style=\"color: #EA9A97\">true</span><span style=\"color: #F6C177\">,&quot;CanGoNext&quot;:</span><span style=\"color: #EA9A97\">true</span><span style=\"color: #F6C177\">,&quot;CanGoPrevious&quot;:</span><span style=\"color: #EA9A97\">true</span><span style=\"color: #F6C177\">,&quot;CanPause&quot;:</span><span style=\"color: #EA9A97\">true</span><span style=\"color: #F6C177\">,&quot;CanPlay&quot;:</span><span style=\"color: #EA9A97\">true</span><span style=\"color: #F6C177\">,&quot;CanQuit&quot;:</span><span style=\"color: #EA9A97\">true</span><span style=\"color: #F6C177\">,&quot;CanRaise&quot;:</span><span style=\"color: #EA9A97\">true</span><span style=\"color: #F6C177\">,&quot;CanSeek&quot;:</span><span style=\"color: #EA9A97\">true</span><span style=\"color: #F6C177\">,&quot;DesktopEntry&quot;:&quot;&quot;,&quot;Fullscreen&quot;:</span><span style=\"color: #EA9A97\">false</span><span style=\"color: #F6C177\">,&quot;Identity&quot;:&quot;YesPlayMusic&quot;,&quot;InstancePid&quot;:58382,&quot;LoopStatus&quot;:&quot;None&quot;,&quot;MaximumRate&quot;:1,&quot;Metadata&quot;:&#123;&quot;mpris:artUrl&quot;:&quot;https://p1.music.126.net/UeTuwE7pvjBpypWLudqukA==/3132508627578625.jpg?param=224y224&quot;,&quot;mpris:length&quot;:431000000,&quot;mpris:trackid&quot;:&quot;&quot;,&quot;xesam:artist&quot;:[&quot;&quot;],&quot;xesam:title&quot;:&quot;沈园外0.9&quot;&#125;,&quot;MinimumRate&quot;:1,&quot;PlaybackStatus&quot;:&quot;Paused&quot;,&quot;Position&quot;:132568986,&quot;Position last updated (UTC)&quot;:&quot;2024-03-07T11:27:25.263Z&quot;,&quot;Rate&quot;:1,&quot;Shuffle&quot;:</span><span style=\"color: #EA9A97\">false</span><span style=\"color: #F6C177\">,&quot;SupportedMimeTypes&quot;:[],&quot;SupportedUriSchemes&quot;:[],&quot;Volume&quot;:0&#125;</span></span>\n<span class=\"line\"><span style=\"color: #EA9A97\">qml:</span><span style=\"color: #E0DEF4\"> </span><span style=\"color: #F6C177\">objectNameChanged:</span><span style=\"color: #E0DEF4\"> </span><span style=\"color: #F6C177\">undefined</span></span>\n<span class=\"line\"><span style=\"color: #EA9A97\">qml:</span><span style=\"color: #E0DEF4\"> </span><span style=\"color: #F6C177\">valueChanged:</span><span style=\"color: #E0DEF4\"> </span><span style=\"color: #F6C177\">undefined</span></span>\n<span class=\"line\"><span style=\"color: #EA9A97\">qml:</span><span style=\"color: #E0DEF4\"> </span><span style=\"color: #F6C177\">keys:</span><span style=\"color: #E0DEF4\"> </span><span style=\"color: #F6C177\">undefined</span></span>\n<span class=\"line\"><span style=\"color: #EA9A97\">qml:</span><span style=\"color: #E0DEF4\"> </span><span style=\"color: #F6C177\">__0:</span><span style=\"color: #E0DEF4\"> </span><span style=\"color: #F6C177\">undefined</span></span>\n<span class=\"line\"><span style=\"color: #EA9A97\">qml:</span><span style=\"color: #E0DEF4\"> </span><span style=\"color: #F6C177\">__1:</span><span style=\"color: #E0DEF4\"> </span><span style=\"color: #F6C177\">undefined</span></span>\n<span class=\"line\"><span style=\"color: #EA9A97\">qml:</span><span style=\"color: #E0DEF4\"> </span><span style=\"color: #F6C177\">__2:</span><span style=\"color: #E0DEF4\"> </span><span style=\"color: #F6C177\">undefined</span></span>\n<span class=\"line\"><span style=\"color: #EA9A97\">qml:</span><span style=\"color: #E0DEF4\"> </span><span style=\"color: #F6C177\">Data</span><span style=\"color: #E0DEF4\"> </span><span style=\"color: #F6C177\">changed!</span></span>\n<span class=\"line\"><span style=\"color: #EA9A97\">qml:</span><span style=\"color: #E0DEF4\"> </span><span style=\"color: #F6C177\">objectName:</span><span style=\"color: #E0DEF4\"> </span><span style=\"color: #F6C177\">&quot;&quot;</span></span>\n<span class=\"line\"><span style=\"color: #EA9A97\">qml:</span><span style=\"color: #E0DEF4\"> </span><span style=\"color: #F6C177\">@multiplex:</span><span style=\"color: #E0DEF4\"> </span><span style=\"color: #F6C177\">&#123;&quot;CanControl&quot;:</span><span style=\"color: #EA9A97\">true</span><span style=\"color: #F6C177\">,&quot;CanGoNext&quot;:</span><span style=\"color: #EA9A97\">true</span><span style=\"color: #F6C177\">,&quot;CanGoPrevious&quot;:</span><span style=\"color: #EA9A97\">true</span><span style=\"color: #F6C177\">,&quot;CanPause&quot;:</span><span style=\"color: #EA9A97\">true</span><span style=\"color: #F6C177\">,&quot;CanPlay&quot;:</span><span style=\"color: #EA9A97\">true</span><span style=\"color: #F6C177\">,&quot;CanQuit&quot;:</span><span style=\"color: #EA9A97\">true</span><span style=\"color: #F6C177\">,&quot;CanRaise&quot;:</span><span style=\"color: #EA9A97\">true</span><span style=\"color: #F6C177\">,&quot;CanSeek&quot;:</span><span style=\"color: #EA9A97\">true</span><span style=\"color: #F6C177\">,&quot;DesktopEntry&quot;:&quot;&quot;,&quot;Fullscreen&quot;:</span><span style=\"color: #EA9A97\">false</span><span style=\"color: #F6C177\">,&quot;Identity&quot;:&quot;YesPlayMusic&quot;,&quot;InstancePid&quot;:58382,&quot;LoopStatus&quot;:&quot;None&quot;,&quot;MaximumRate&quot;:1,&quot;Metadata&quot;:&#123;&quot;mpris:artUrl&quot;:&quot;https://p1.music.126.net/UeTuwE7pvjBpypWLudqukA==/3132508627578625.jpg?param=224y224&quot;,&quot;mpris:length&quot;:431000000,&quot;mpris:trackid&quot;:&quot;&quot;,&quot;xesam:artist&quot;:[&quot;&quot;],&quot;xesam:title&quot;:&quot;沈园外0.9&quot;&#125;,&quot;MinimumRate&quot;:1,&quot;PlaybackStatus&quot;:&quot;Paused&quot;,&quot;Position&quot;:132568986,&quot;Position last updated (UTC)&quot;:&quot;2024-03-07T11:27:25.364Z&quot;,&quot;Rate&quot;:1,&quot;Shuffle&quot;:</span><span style=\"color: #EA9A97\">false</span><span style=\"color: #F6C177\">,&quot;Source Name&quot;:&quot;yesplaymusic&quot;,&quot;SupportedMimeTypes&quot;:[],&quot;SupportedUriSchemes&quot;:[],&quot;Volume&quot;:0&#125;</span></span>\n<span class=\"line\"><span style=\"color: #EA9A97\">qml:</span><span style=\"color: #E0DEF4\"> </span><span style=\"color: #F6C177\">chromium.instance2616:</span><span style=\"color: #E0DEF4\"> </span><span style=\"color: #F6C177\">&#123;&quot;CanControl&quot;:</span><span style=\"color: #EA9A97\">true</span><span style=\"color: #F6C177\">,&quot;CanGoNext&quot;:</span><span style=\"color: #EA9A97\">false</span><span style=\"color: #F6C177\">,&quot;CanGoPrevious&quot;:</span><span style=\"color: #EA9A97\">false</span><span style=\"color: #F6C177\">,&quot;CanPause&quot;:</span><span style=\"color: #EA9A97\">false</span><span style=\"color: #F6C177\">,&quot;CanPlay&quot;:</span><span style=\"color: #EA9A97\">false</span><span style=\"color: #F6C177\">,&quot;CanQuit&quot;:</span><span style=\"color: #EA9A97\">false</span><span style=\"color: #F6C177\">,&quot;CanRaise&quot;:</span><span style=\"color: #EA9A97\">false</span><span style=\"color: #F6C177\">,&quot;CanSeek&quot;:</span><span style=\"color: #EA9A97\">false</span><span style=\"color: #F6C177\">,&quot;Identity&quot;:&quot;Chrome&quot;,&quot;InstancePid&quot;:2616,&quot;MaximumRate&quot;:1,&quot;Metadata&quot;:&#123;&quot;mpris:trackid&quot;:&quot;&quot;,&quot;xesam:album&quot;:&quot;&quot;,&quot;xesam:artist&quot;:[&quot;&quot;],&quot;xesam:title&quot;:&quot;&quot;&#125;,&quot;MinimumRate&quot;:1,&quot;PlaybackStatus&quot;:&quot;Stopped&quot;,&quot;Position&quot;:0,&quot;Position last updated (UTC)&quot;:&quot;2024-03-07T11:27:25.364Z&quot;,&quot;Rate&quot;:1,&quot;SupportedMimeTypes&quot;:[],&quot;SupportedUriSchemes&quot;:[],&quot;Volume&quot;:1&#125;</span></span>\n<span class=\"line\"><span style=\"color: #EA9A97\">qml:</span><span style=\"color: #E0DEF4\"> </span><span style=\"color: #F6C177\">yesplaymusic:</span><span style=\"color: #E0DEF4\"> </span><span style=\"color: #F6C177\">&#123;&quot;CanControl&quot;:</span><span style=\"color: #EA9A97\">true</span><span style=\"color: #F6C177\">,&quot;CanGoNext&quot;:</span><span style=\"color: #EA9A97\">true</span><span style=\"color: #F6C177\">,&quot;CanGoPrevious&quot;:</span><span style=\"color: #EA9A97\">true</span><span style=\"color: #F6C177\">,&quot;CanPause&quot;:</span><span style=\"color: #EA9A97\">true</span><span style=\"color: #F6C177\">,&quot;CanPlay&quot;:</span><span style=\"color: #EA9A97\">true</span><span style=\"color: #F6C177\">,&quot;CanQuit&quot;:</span><span style=\"color: #EA9A97\">true</span><span style=\"color: #F6C177\">,&quot;CanRaise&quot;:</span><span style=\"color: #EA9A97\">true</span><span style=\"color: #F6C177\">,&quot;CanSeek&quot;:</span><span style=\"color: #EA9A97\">true</span><span style=\"color: #F6C177\">,&quot;DesktopEntry&quot;:&quot;&quot;,&quot;Fullscreen&quot;:</span><span style=\"color: #EA9A97\">false</span><span style=\"color: #F6C177\">,&quot;Identity&quot;:&quot;YesPlayMusic&quot;,&quot;InstancePid&quot;:58382,&quot;LoopStatus&quot;:&quot;None&quot;,&quot;MaximumRate&quot;:1,&quot;Metadata&quot;:&#123;&quot;mpris:artUrl&quot;:&quot;https://p1.music.126.net/UeTuwE7pvjBpypWLudqukA==/3132508627578625.jpg?param=224y224&quot;,&quot;mpris:length&quot;:431000000,&quot;mpris:trackid&quot;:&quot;&quot;,&quot;xesam:artist&quot;:[&quot;&quot;],&quot;xesam:title&quot;:&quot;沈园外0.9&quot;&#125;,&quot;MinimumRate&quot;:1,&quot;PlaybackStatus&quot;:&quot;Paused&quot;,&quot;Position&quot;:132568986,&quot;Position last updated (UTC)&quot;:&quot;2024-03-07T11:27:25.364Z&quot;,&quot;Rate&quot;:1,&quot;Shuffle&quot;:</span><span style=\"color: #EA9A97\">false</span><span style=\"color: #F6C177\">,&quot;SupportedMimeTypes&quot;:[],&quot;SupportedUriSchemes&quot;:[],&quot;Volume&quot;:0&#125;</span></span>\n<span class=\"line\"><span style=\"color: #EA9A97\">qml:</span><span style=\"color: #E0DEF4\"> </span><span style=\"color: #F6C177\">objectNameChanged:</span><span style=\"color: #E0DEF4\"> </span><span style=\"color: #F6C177\">undefined</span></span>\n<span class=\"line\"><span style=\"color: #EA9A97\">qml:</span><span style=\"color: #E0DEF4\"> </span><span style=\"color: #F6C177\">valueChanged:</span><span style=\"color: #E0DEF4\"> </span><span style=\"color: #F6C177\">undefined</span></span>\n<span class=\"line\"><span style=\"color: #EA9A97\">qml:</span><span style=\"color: #E0DEF4\"> </span><span style=\"color: #F6C177\">keys:</span><span style=\"color: #E0DEF4\"> </span><span style=\"color: #F6C177\">undefined</span></span>\n<span class=\"line\"><span style=\"color: #EA9A97\">qml:</span><span style=\"color: #E0DEF4\"> </span><span style=\"color: #F6C177\">__0:</span><span style=\"color: #E0DEF4\"> </span><span style=\"color: #F6C177\">undefined</span></span>\n<span class=\"line\"><span style=\"color: #EA9A97\">qml:</span><span style=\"color: #E0DEF4\"> </span><span style=\"color: #F6C177\">__1:</span><span style=\"color: #E0DEF4\"> </span><span style=\"color: #F6C177\">undefined</span></span>\n<span class=\"line\"><span style=\"color: #EA9A97\">qml:</span><span style=\"color: #E0DEF4\"> </span><span style=\"color: #F6C177\">__2:</span><span style=\"color: #E0DEF4\"> </span><span style=\"color: #F6C177\">undefined</span></span>\n<span class=\"line\"><span style=\"color: #EA9A97\">^C</span></span></code></pre></div><p>看上去乱糟糟的。我们用gpt给他整理一下。</p>\n<div class=\"language-txt\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">txt</span><pre class=\"shiki rose-pine-moon\" style=\"background-color: #232136\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #e0def4\">@multiplex：&#123;</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">  &quot;CanControl&quot;: true,</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">  &quot;CanGoNext&quot;: true,</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">  &quot;CanGoPrevious&quot;: true,</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">  &quot;CanPause&quot;: true,</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">  &quot;CanPlay&quot;: true,</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">  &quot;CanQuit&quot;: true,</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">  &quot;CanRaise&quot;: true,</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">  &quot;CanSeek&quot;: true,</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">  &quot;DesktopEntry&quot;: &quot;&quot;,</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">  &quot;Fullscreen&quot;: false,</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">  &quot;Identity&quot;: &quot;YesPlayMusic&quot;,</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">  &quot;InstancePid&quot;: 58382,</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">  &quot;LoopStatus&quot;: &quot;None&quot;,</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">  &quot;MaximumRate&quot;: 1,</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">  &quot;Metadata&quot;: &#123;</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">    &quot;mpris:artUrl&quot;: &quot;https://p1.music.126.net/UeTuwE7pvjBpypWLudqukA==/3132508627578625.jpg?param=224y224&quot;,</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">    &quot;mpris:length&quot;: 431000000,</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">    &quot;mpris:trackid&quot;: &quot;&quot;,</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">    &quot;xesam:artist&quot;: [&quot;&quot;],</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">    &quot;xesam:title&quot;: &quot;沈园外0.9&quot;</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">  &#125;,</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">  &quot;MinimumRate&quot;: 1,</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">  &quot;PlaybackStatus&quot;: &quot;Paused&quot;,</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">  &quot;Position&quot;: 132568986,</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">  &quot;Position last updated (UTC)&quot;: &quot;2024-03-07T11:27:25.364Z&quot;,</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">  &quot;Rate&quot;: 1,</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">  &quot;Shuffle&quot;: false,</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">  &quot;Source Name&quot;: &quot;yesplaymusic&quot;,</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">  &quot;SupportedMimeTypes&quot;: [],</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">  &quot;SupportedUriSchemes&quot;: [],</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">  &quot;Volume&quot;: 0</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">&#125;</span></span></code></pre></div><div class=\"language-txt\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">txt</span><pre class=\"shiki rose-pine-moon\" style=\"background-color: #232136\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #e0def4\">chromium.instance2616: &#123;</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">  &quot;CanControl&quot;: true,</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">  &quot;CanGoNext&quot;: false,</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">  &quot;CanGoPrevious&quot;: false,</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">  &quot;CanPause&quot;: false,</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">  &quot;CanPlay&quot;: false,</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">  &quot;CanQuit&quot;: false,</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">  &quot;CanRaise&quot;: false,</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">  &quot;CanSeek&quot;: false,</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">  &quot;Identity&quot;: &quot;Chrome&quot;,</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">  &quot;InstancePid&quot;: 2616,</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">  &quot;MaximumRate&quot;: 1,</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">  &quot;Metadata&quot;: &#123;</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">    &quot;mpris:trackid&quot;: &quot;&quot;,</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">    &quot;xesam:album&quot;: &quot;&quot;,</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">    &quot;xesam:artist&quot;: [&quot;&quot;],</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">    &quot;xesam:title&quot;: &quot;&quot;</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">  &#125;,</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">  &quot;MinimumRate&quot;: 1,</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">  &quot;PlaybackStatus&quot;: &quot;Stopped&quot;,</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">  &quot;Position&quot;: 0,</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">  &quot;Position last updated (UTC)&quot;: &quot;2024-03-07T11:27:25.364Z&quot;,</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">  &quot;Rate&quot;: 1,</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">  &quot;SupportedMimeTypes&quot;: [],</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">  &quot;SupportedUriSchemes&quot;: [],</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">  &quot;Volume&quot;: 1</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">&#125;</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\"></span></span></code></pre></div><div class=\"language-txt\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">txt</span><pre class=\"shiki rose-pine-moon\" style=\"background-color: #232136\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #e0def4\">yesplaymusic&#123;</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">  &quot;CanControl&quot;: true,</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">  &quot;CanGoNext&quot;: true,</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">  &quot;CanGoPrevious&quot;: true,</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">  &quot;CanPause&quot;: true,</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">  &quot;CanPlay&quot;: true,</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">  &quot;CanQuit&quot;: true,</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">  &quot;CanRaise&quot;: true,</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">  &quot;CanSeek&quot;: true,</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">  &quot;DesktopEntry&quot;: &quot;&quot;,</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">  &quot;Fullscreen&quot;: false,</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">  &quot;Identity&quot;: &quot;YesPlayMusic&quot;,</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">  &quot;InstancePid&quot;: 58382,</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">  &quot;LoopStatus&quot;: &quot;None&quot;,</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">  &quot;MaximumRate&quot;: 1,</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">  &quot;Metadata&quot;: &#123;</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">    &quot;mpris:artUrl&quot;: &quot;https://p1.music.126.net/UeTuwE7pvjBpypWLudqukA==/3132508627578625.jpg?param=224y224&quot;,</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">    &quot;mpris:length&quot;: 431000000,</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">    &quot;mpris:trackid&quot;: &quot;&quot;,</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">    &quot;xesam:artist&quot;: [&quot;&quot;],</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">    &quot;xesam:title&quot;: &quot;沈园外0.9&quot;</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">  &#125;,</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">  &quot;MinimumRate&quot;: 1,</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">  &quot;PlaybackStatus&quot;: &quot;Paused&quot;,</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">  &quot;Position&quot;: 132568986,</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">  &quot;Position last updated (UTC)&quot;: &quot;2024-03-07T11:27:25.364Z&quot;,</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">  &quot;Rate&quot;: 1,</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">  &quot;Shuffle&quot;: false,</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">  &quot;SupportedMimeTypes&quot;: [],</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">  &quot;SupportedUriSchemes&quot;: [],</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">  &quot;Volume&quot;: 0</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">&#125;</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\"></span></span></code></pre></div><p>注意这三个是同级的，也就是说我们目前本地的媒体datasource中，存在这三个源。即：</p>\n<p><code>&quot;Identity&quot;: &quot;YesPlayMusic&quot;,</code></p>\n<p><code>&quot;Identity&quot;: &quot;Chrome&quot;,</code></p>\n<p><code>&quot;Identity&quot;: &quot;YesPlayMusic&quot;,</code></p>\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>没有具体的去了解multiplex在这里指的是什么，但是很明显应该是正在播放的东西。所以我们后续，可以通过这个identity来区分，正在播放来自哪个播放器的音乐。做字符串判断就可以了。Spotify, VLC, Elisa, YesPlayMusic. 不同的播放器有不同的歌词获取逻辑。但是歌词处理是一样的。</p></blockquote>\n<p>另外一个<strong>非常重要</strong>的数据是<code>&quot;Position&quot;: 132568986,</code>这个就是当前播放的进度。我们在播放器中调进度，当前的值都可以通过这个获取到。</p>\n<p>上面的json中的MetaData部分有些缺失，这个例子应该是全的</p>\n<div class=\"language-json\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">json</span><pre class=\"shiki rose-pine-moon\" style=\"background-color: #232136\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #F6C177\">&quot;Metadata&quot;</span><span style=\"color: #E0DEF4\">: </span><span style=\"color: #908CAA\">&#123;</span><span style=\"color: #E0DEF4\"> </span><span style=\"color: #908CAA\">&quot;</span><span style=\"color: #9CCFD8\">mpris:artUrl</span><span style=\"color: #908CAA\">&quot;</span><span style=\"color: #908CAA\">:</span><span style=\"color: #F6C177\">&quot;https://p1.music.126.net/vcjmAMkqTeW_KReRQSXavA==/18568552371851739.jpg?param=224y224&quot;</span><span style=\"color: #908CAA\">,</span><span style=\"color: #908CAA\">&quot;</span></span>\n<span class=\"line\"><span style=\"color: #9CCFD8\">mpris:length</span><span style=\"color: #908CAA\">&quot;</span><span style=\"color: #908CAA\">:</span><span style=\"color: #EA9A97\">234000000</span><span style=\"color: #908CAA\">,</span><span style=\"color: #E0DEF4\"> </span><span style=\"color: #908CAA; font-style: italic\">//</span><span style=\"color: #6E6A86; font-style: italic\">长度</span></span>\n<span class=\"line\"><span style=\"color: #908CAA\">&quot;</span><span style=\"color: #9CCFD8\">mpris:trackid</span><span style=\"color: #908CAA\">&quot;</span><span style=\"color: #908CAA\">:</span><span style=\"color: #F6C177\">&quot;&quot;</span><span style=\"color: #908CAA\">,</span><span style=\"color: #E0DEF4\"> </span></span>\n<span class=\"line\"><span style=\"color: #908CAA\">&quot;</span><span style=\"color: #9CCFD8\">xesam:album</span><span style=\"color: #908CAA\">&quot;</span><span style=\"color: #908CAA\">:</span><span style=\"color: #F6C177\">&quot;雀跃&quot;</span><span style=\"color: #908CAA\">,</span><span style=\"color: #E0DEF4\"> </span><span style=\"color: #908CAA; font-style: italic\">//</span><span style=\"color: #6E6A86; font-style: italic\">专辑</span></span>\n<span class=\"line\"><span style=\"color: #908CAA\">&quot;</span><span style=\"color: #9CCFD8\">xesam:artist</span><span style=\"color: #908CAA\">&quot;</span><span style=\"color: #908CAA\">:[</span><span style=\"color: #F6C177\">&quot;任然&quot;</span><span style=\"color: #908CAA\">,</span><span style=\"color: #F6C177\">&quot;小来&quot;</span><span style=\"color: #908CAA\">],</span><span style=\"color: #E0DEF4\"> </span><span style=\"color: #908CAA; font-style: italic\">//</span><span style=\"color: #6E6A86; font-style: italic\">歌手</span></span>\n<span class=\"line\"><span style=\"color: #908CAA\">&quot;</span><span style=\"color: #9CCFD8\">xesam:title</span><span style=\"color: #908CAA\">&quot;</span><span style=\"color: #908CAA\">:</span><span style=\"color: #F6C177\">&quot;雀跃&quot;</span><span style=\"color: #E0DEF4\"> </span><span style=\"color: #908CAA; font-style: italic\">//</span><span style=\"color: #6E6A86; font-style: italic\">歌名 </span></span>\n<span class=\"line\"><span style=\"color: #908CAA\">&#125;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"></span></code></pre></div><p>注意artist是一个list,所以要用toString()来转换结果。其余都是string</p>\n<h2 id=\"5-QML\"><a href=\"#5-QML\" class=\"headerlink\" title=\"5. QML\"></a>5. QML</h2><h3 id=\"5-1-Text\"><a href=\"#5-1-Text\" class=\"headerlink\" title=\"5.1 Text\"></a>5.1 Text</h3><blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p><a href=\"https://doc.qt.io/qt-5/qml-qtquick-text.html\">https://doc.qt.io/qt-5/qml-qtquick-text.html</a></p></blockquote>\n<p>重点在于</p>\n<ul>\n<li><em><strong>*<a href=\"https://doc.qt.io/qt-5/qml-qtquick-text.html#contentHeight-prop\">contentHeight</a>*</strong></em> : real</li>\n<li><em><strong>*<a href=\"https://doc.qt.io/qt-5/qml-qtquick-text.html#contentWidth-prop\">contentWidth</a>*</strong></em> : real</li>\n</ul>\n<p>这两个属性。因为歌词，歌曲信息的长度是动态可变的。所以我们整个 歌词&amp;歌曲容器的长度（宽度）也得变。不然整个组件在panel上的布局就会很怪异。</p>\n<p>当然，还有一种<strong>更聪明、稳定的做法</strong>。 我们可以固定Item(歌词容器)的长度。然后判断当前Text的长度，如果Text大于歌词容器的长度，那就变成<strong>滚动地显示本行Text</strong>，一行内滚完该Text的内容。如果Text小于歌词容器的长度，那就老样子，还是一行一行的显示。我们为了简单，目前就不做了。后续考虑加一下这个功能，和歌词的动效。</p>\n<h3 id=\"5-2-Plasma-Widget-Tutorial\"><a href=\"#5-2-Plasma-Widget-Tutorial\" class=\"headerlink\" title=\"5.2 Plasma Widget Tutorial\"></a>5.2 Plasma Widget Tutorial</h3><h4 id=\"5-2-1-Plasmoid-fullRepresentation\"><a href=\"#5-2-1-Plasmoid-fullRepresentation\" class=\"headerlink\" title=\"5.2.1 Plasmoid.fullRepresentation\"></a>5.2.1 Plasmoid.fullRepresentation</h4><p>这个必须设<code>Plasmoid.preferredRepresentation: Plasmoid.fullRepresentation </code></p>\n<p>否则就是显示一个你的icon，需要点击icon才会显示具体的内容。很明显不是我们想要的。</p>\n<p>kde是这样解释的：</p>\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p><code>Plasmoid.compactRepresentation</code> (with a capital) and <code>Plasmoid.fullRepresentation</code> are used to define the layout of the small “icon” view and the full “popup” view. These are both properties of the main <code>Item</code>. If neither are set, by default the main <code>Item</code> is the full representation.</p></blockquote>\n<h3 id=\"5-3-Configuration\"><a href=\"#5-3-Configuration\" class=\"headerlink\" title=\"5.3 Configuration\"></a>5.3 Configuration</h3><blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>项目配置</p></blockquote>\n<h4 id=\"5-3-1-Kirigami2\"><a href=\"#5-3-1-Kirigami2\" class=\"headerlink\" title=\"5.3.1 Kirigami2\"></a>5.3.1 Kirigami2</h4><blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>API: <a href=\"https://api.kde.org/frameworks/kirigami/html/index.html\">https://api.kde.org/frameworks/kirigami/html/index.html</a></p></blockquote>\n<p>项目里主要用到<code>FormLayout</code>.</p>\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>FormLayout API: <a href=\"https://api.kde.org/frameworks/kirigami/html/classFormLayout.html\">https://api.kde.org/frameworks/kirigami/html/classFormLayout.html</a></p></blockquote>\n<h2 id=\"6-歌词源\"><a href=\"#6-歌词源\" class=\"headerlink\" title=\"6. 歌词源\"></a>6. 歌词源</h2><blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>Thanks to this source: ref:  <a href=\"https://github.com/SimonIT/spotifylyrics/blob/master/README.md\">https://github.com/SimonIT/spotifylyrics/blob/master/README.md</a></p></blockquote>\n<ul>\n<li>rentanadviser.com (synchronized)</li>\n<li>megalobiz.com (synchronized)</li>\n<li>lyricsify.com (synchronized) </li>\n<li>rclyricsband.com (synchronized)</li>\n<li>musixmatch.com</li>\n<li>songmeanings.com</li>\n<li>songlyrics.com</li>\n<li>genius.com</li>\n<li>versuri.ro</li>\n<li>AZLyrics.com</li>\n</ul>\n<p>都是可以用的。musixmatch应该是最好最全的，但是api需要付费。然后具体定价也没说。lyricsify英文歌也比较全，但是有Cloudfare保护，我们fetch不到歌词。</p>\n<p>这个好用。免费api， 无rate limit. 唯一缺点英文歌很全，中文歌几乎没有。可以使用&#x2F;api&#x2F;publish来上传歌词。本组件会在使用yesplaymusic的时候自动往lrclib上传中文歌曲信息。</p>\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>Thanks to this source<br><a href=\"https://github.com/tranxuanthang/lrcget\">https://github.com/tranxuanthang/lrcget</a></p></blockquote>\n<div class=\"language-txt\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">txt</span><pre class=\"shiki rose-pine-moon\" style=\"background-color: #232136\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #e0def4\">https://lrclib.net/docs</span></span></code></pre></div><div class=\"language-txt\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">txt</span><pre class=\"shiki rose-pine-moon\" style=\"background-color: #232136\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #e0def4\">[</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">    &#123;</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">        &quot;id&quot;: 6057484,</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">        &quot;name&quot;: &quot;告白氣球&quot;,</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">        &quot;trackName&quot;: &quot;告白氣球&quot;,</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">        &quot;artistName&quot;: &quot;Jay Chou&quot;,</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">        &quot;albumName&quot;: &quot;周杰倫的床邊故事&quot;,</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">        &quot;duration&quot;: 216,</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">        &quot;instrumental&quot;: false,</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">        &quot;plainLyrics&quot;: &quot;告白氣球\\n\\n塞納河畔 左岸的咖啡\\n我手一杯 品嚐你的美\\n留下唇印的嘴 whoa\\n\\n花店玫瑰 名字寫錯誰?\\n告白氣球 風吹到對街\\n微笑在天上飛 (該你們)\\n\\n你說你有點難追 想讓我知難而退\\n禮物不需挑最貴 只要香榭的落葉\\n營造浪漫的約會 不害怕搞砸一切\\n擁有你就擁有 全世界\\n\\n親愛的 愛上你 從那天起\\n甜蜜的很輕易 whoa\\n親愛的 別任性 你的眼睛\\n在說我願意\\n\\n下面的朋友準備好了嗎?\\n\\n塞納河畔 左岸的咖啡\\n我手一杯 品嚐你的美\\n留下唇印的嘴 whoo\\n\\n花店玫瑰 名字寫錯誰?\\n告白氣球 風吹到對街\\n微笑在天上飛 whoa\\n\\n你說你有點難追 想讓我知難而退\\n禮物不需挑最貴 只要香榭的落葉\\n營造浪漫的約會 不害怕搞砸一切\\n擁有你就擁有 全世界\\n\\n親愛的 愛上你 從那天起\\n甜蜜的很輕易\\n親愛的 別任性 你的眼睛\\n在說我願意\\n\\n親愛的 愛上你 戀愛日記\\n飄香水的回憶 whoa\\n一整瓶 的夢境 全都有你\\n攪拌在一起\\n\\n親愛的別任性 你的眼睛\\n在說我願意\\n謝謝\\n\\n(親愛的 愛上你 從那天起)\\n(甜蜜的很輕易)\\n(親愛的 別任性 你的眼睛)\\n(在說我願意)&quot;,</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">        &quot;syncedLyrics&quot;: &quot;[00:03.26] 告白氣球\\n[00:23.75] 塞納河畔 左岸的咖啡\\n[00:26.64] 我手一杯 品嚐你的美\\n[00:29.70] 留下唇印的嘴 whoa\\n[00:34.76] 花店玫瑰 名字寫錯誰?\\n[00:37.22] 告白氣球 風吹到對街\\n[00:40.47] 微笑在天上飛 (該你們)\\n[00:44.44] 你說你有點難追 想讓我知難而退\\n[00:49.89] 禮物不需挑最貴 只要香榭的落葉\\n[00:54.92] 營造浪漫的約會 不害怕搞砸一切\\n[01:00.45] 擁有你就擁有 全世界\\n[01:05.43] 親愛的 愛上你 從那天起\\n[01:11.71] 甜蜜的很輕易 whoa\\n[01:16.36] 親愛的 別任性 你的眼睛\\n[01:22.46] 在說我願意\\n[01:28.55] 下面的朋友準備好了嗎?\\n[01:49.21] 塞納河畔 左岸的咖啡\\n[01:52.27] 我手一杯 品嚐你的美\\n[01:55.22] 留下唇印的嘴 whoo\\n[01:59.99] 花店玫瑰 名字寫錯誰?\\n[02:02.63] 告白氣球 風吹到對街\\n[02:05.82] 微笑在天上飛 whoa\\n[02:09.77] 你說你有點難追 想讓我知難而退\\n[02:14.99] 禮物不需挑最貴 只要香榭的落葉\\n[02:20.30] 營造浪漫的約會 不害怕搞砸一切\\n[02:25.81] 擁有你就擁有 全世界\\n[02:30.82] 親愛的 愛上你 從那天起\\n[02:37.12] 甜蜜的很輕易\\n[02:41.71] 親愛的 別任性 你的眼睛\\n[02:47.69] 在說我願意\\n[02:52.26] 親愛的 愛上你 戀愛日記\\n[02:58.46] 飄香水的回憶 whoa\\n[03:03.05] 一整瓶 的夢境 全都有你\\n[03:09.12] 攪拌在一起\\n[03:13.78] 親愛的別任性 你的眼睛\\n[03:22.11] 在說我願意\\n[03:28.12] 謝謝\\n[03:29.65] (親愛的 愛上你 從那天起)\\n[03:29.94] (甜蜜的很輕易)\\n[03:30.51] (親愛的 別任性 你的眼睛)\\n[03:31.16] (在說我願意)\\n[03:33.88] &quot;</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">    &#125; </span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">]</span></span></code></pre></div><h2 id=\"7-XHR\"><a href=\"#7-XHR\" class=\"headerlink\" title=\"7.XHR\"></a>7.XHR</h2><p>发http请求。没啥好说的，就是JS. <strong>不要让数据太依赖异步方法的更新，不然容易出奇怪的bug.</strong></p>\n<h2 id=\"8-精度问题\"><a href=\"#8-精度问题\" class=\"headerlink\" title=\"8. 精度问题\"></a>8. 精度问题</h2><div class=\"language-txt\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">txt</span><pre class=\"shiki rose-pine-moon\" style=\"background-color: #232136\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #e0def4\">qml: current song time 1.0579999999999943</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">qml: current song time 1.0589999999999942</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">qml: current song time 1.059999999999994</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">qml: current song time 1.060999999999994</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">qml: current song time 1.0619999999999938</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">qml: current song time 1.0629999999999937</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">qml: current song time 1.0639999999999936</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">qml: current song time 1.0649999999999935</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">qml: current song time 1.0659999999999934</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">qml: current song time 1.0669999999999933</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">qml: current song time 1.0679999999999932</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">qml: current song time 1.068999999999993</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">qml: current song time 1.069999999999993</span></span>\n<span class=\"line\"><span style=\"color: #e0def4\">qml: current song time 1.0709999999999928</span></span></code></pre></div><h2 id=\"9-图标\"><a href=\"#9-图标\" class=\"headerlink\" title=\"9. 图标\"></a>9. 图标</h2><p>网易云音乐图标: <a href=\"https://www.svgrepo.com/svg/346157/netease-cloud-music-fill\">https://www.svgrepo.com/svg/346157/netease-cloud-music-fill</a></p>\n<p>暂停，上一首，下一首: <a href=\"https://thenounproject.com/browse/icons/term/play-back/\">https://thenounproject.com/browse/icons/term/play-back/</a></p>\n<p>这个的网易云图标似乎更好<a href=\"https://icon-icons.com/icon/netease-cloud-music-logo/206716\">https://icon-icons.com/icon/netease-cloud-music-logo/206716</a></p>\n<h2 id=\"10-Wine版本网易云音乐歌词\"><a href=\"#10-Wine版本网易云音乐歌词\" class=\"headerlink\" title=\"10. Wine版本网易云音乐歌词\"></a>10. Wine版本网易云音乐歌词</h2><ol>\n<li><p>列出所有的进程</p>\n<div class=\"language-bash\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">bash</span><pre class=\"shiki rose-pine-moon\" style=\"background-color: #232136\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #EA9A97\">ps</span><span style=\"color: #E0DEF4\"> </span><span style=\"color: #3E8FB0\">-ef</span></span></code></pre></div></li>\n<li><p>找到网易云相关的信息</p>\n<div class=\"language-bash\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">bash</span><pre class=\"shiki rose-pine-moon\" style=\"background-color: #232136\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #EA9A97\">UID</span><span style=\"color: #E0DEF4\">          </span><span style=\"color: #F6C177\">PID</span><span style=\"color: #E0DEF4\">    </span><span style=\"color: #F6C177\">PPID</span><span style=\"color: #E0DEF4\">  </span><span style=\"color: #F6C177\">C</span><span style=\"color: #E0DEF4\"> </span><span style=\"color: #F6C177\">STIME</span><span style=\"color: #E0DEF4\"> </span><span style=\"color: #F6C177\">TTY</span><span style=\"color: #E0DEF4\">          </span><span style=\"color: #F6C177\">TIME</span><span style=\"color: #E0DEF4\"> </span><span style=\"color: #F6C177\">CMD</span></span>\n<span class=\"line\"><span style=\"color: #EA9A97\">anicaa</span><span style=\"color: #E0DEF4\">    </span><span style=\"color: #EA9A97\">169931</span><span style=\"color: #E0DEF4\">  </span><span style=\"color: #EA9A97\">167120</span><span style=\"color: #E0DEF4\"> </span><span style=\"color: #EA9A97\">20</span><span style=\"color: #E0DEF4\"> </span><span style=\"color: #EA9A97\">20</span><span style=\"color: #F6C177\">:16</span><span style=\"color: #E0DEF4\"> </span><span style=\"color: #F6C177\">?</span><span style=\"color: #E0DEF4\">        </span><span style=\"color: #EA9A97\">00</span><span style=\"color: #F6C177\">:08:29</span><span style=\"color: #E0DEF4\"> </span><span style=\"color: #F6C177\">C:</span><span style=\"color: #3E8FB0\">\\P</span><span style=\"color: #F6C177\">rogram</span><span style=\"color: #E0DEF4\"> </span><span style=\"color: #F6C177\">Files</span><span style=\"color: #E0DEF4\"> (x86)</span><span style=\"color: #3E8FB0\">\\N</span><span style=\"color: #E0DEF4\">etEase</span><span style=\"color: #3E8FB0\">\\C</span><span style=\"color: #E0DEF4\">loudMusic</span><span style=\"color: #3E8FB0\">\\c</span><span style=\"color: #E0DEF4\">loudmusic.exe --orpheus-restart-for-update</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #EA9A97\">anicaa</span><span style=\"color: #E0DEF4\">    </span><span style=\"color: #EA9A97\">169934</span><span style=\"color: #E0DEF4\">  </span><span style=\"color: #EA9A97\">167120</span><span style=\"color: #E0DEF4\">  </span><span style=\"color: #EA9A97\">0</span><span style=\"color: #E0DEF4\"> </span><span style=\"color: #EA9A97\">20</span><span style=\"color: #F6C177\">:16</span><span style=\"color: #E0DEF4\"> </span><span style=\"color: #F6C177\">?</span><span style=\"color: #E0DEF4\">        </span><span style=\"color: #EA9A97\">00</span><span style=\"color: #F6C177\">:00:00</span><span style=\"color: #E0DEF4\"> </span><span style=\"color: #F6C177\">C:</span><span style=\"color: #3E8FB0\">\\P</span><span style=\"color: #F6C177\">rogram</span><span style=\"color: #E0DEF4\"> </span><span style=\"color: #F6C177\">Files</span><span style=\"color: #E0DEF4\"> (x86)</span><span style=\"color: #3E8FB0\">\\N</span><span style=\"color: #E0DEF4\">etEase</span><span style=\"color: #3E8FB0\">\\C</span><span style=\"color: #E0DEF4\">loudMusic</span><span style=\"color: #3E8FB0\">\\c</span><span style=\"color: #E0DEF4\">loudmusic_reporter.exe</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #EA9A97\">anicaa</span><span style=\"color: #E0DEF4\">    </span><span style=\"color: #EA9A97\">169979</span><span style=\"color: #E0DEF4\">  </span><span style=\"color: #EA9A97\">167120</span><span style=\"color: #E0DEF4\"> </span><span style=\"color: #EA9A97\">16</span><span style=\"color: #E0DEF4\"> </span><span style=\"color: #EA9A97\">20</span><span style=\"color: #F6C177\">:16</span><span style=\"color: #E0DEF4\"> </span><span style=\"color: #F6C177\">?</span><span style=\"color: #E0DEF4\">        </span><span style=\"color: #EA9A97\">00</span><span style=\"color: #F6C177\">:06:56</span><span style=\"color: #E0DEF4\"> </span><span style=\"color: #F6C177\">C:</span><span style=\"color: #3E8FB0\">\\P</span><span style=\"color: #F6C177\">rogram</span><span style=\"color: #E0DEF4\"> </span><span style=\"color: #F6C177\">Files</span><span style=\"color: #E0DEF4\"> (x86)</span><span style=\"color: #3E8FB0\">\\N</span><span style=\"color: #E0DEF4\">etEase</span><span style=\"color: #3E8FB0\">\\C</span><span style=\"color: #E0DEF4\">loudMusic</span><span style=\"color: #3E8FB0\">\\c</span><span style=\"color: #E0DEF4\">loudmusic.exe --type=gpu-process --field-trial-handle=688,10904674277818846006,15224297601500643855,131072 --enable-features=NetworkServiceInP</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #EA9A97\">anicaa</span><span style=\"color: #E0DEF4\">    </span><span style=\"color: #EA9A97\">169996</span><span style=\"color: #E0DEF4\">  </span><span style=\"color: #EA9A97\">167120</span><span style=\"color: #E0DEF4\"> </span><span style=\"color: #EA9A97\">21</span><span style=\"color: #E0DEF4\"> </span><span style=\"color: #EA9A97\">20</span><span style=\"color: #F6C177\">:16</span><span style=\"color: #E0DEF4\"> </span><span style=\"color: #F6C177\">?</span><span style=\"color: #E0DEF4\">        </span><span style=\"color: #EA9A97\">00</span><span style=\"color: #F6C177\">:09:07</span><span style=\"color: #E0DEF4\"> </span><span style=\"color: #F6C177\">C:</span><span style=\"color: #3E8FB0\">\\P</span><span style=\"color: #F6C177\">rogram</span><span style=\"color: #E0DEF4\"> </span><span style=\"color: #F6C177\">Files</span><span style=\"color: #E0DEF4\"> (x86)</span><span style=\"color: #3E8FB0\">\\N</span><span style=\"color: #E0DEF4\">etEase</span><span style=\"color: #3E8FB0\">\\C</span><span style=\"color: #E0DEF4\">loudMusic</span><span style=\"color: #3E8FB0\">\\c</span><span style=\"color: #E0DEF4\">loudmusic.exe --type=renderer --no-sandbox --log-file=C:</span><span style=\"color: #3E8FB0\">\\u</span><span style=\"color: #E0DEF4\">sers</span><span style=\"color: #3E8FB0\">\\a</span><span style=\"color: #E0DEF4\">nicaa</span><span style=\"color: #3E8FB0\">\\A</span><span style=\"color: #E0DEF4\">ppData</span><span style=\"color: #3E8FB0\">\\L</span><span style=\"color: #E0DEF4\">ocal</span><span style=\"color: #3E8FB0\">\\N</span><span style=\"color: #E0DEF4\">etEase</span><span style=\"color: #3E8FB0\">\\C</span><span style=\"color: #E0DEF4\">loudMusic</span><span style=\"color: #3E8FB0\">\\w</span><span style=\"color: #E0DEF4\">eb.log --field-trial-handle=688,109046</span></span></code></pre></div></li>\n<li><p><code>cloudmusic.exe</code>就是我们想要的, pid是169931, 看一下其 内存地址</p>\n<div class=\"language-bash\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">bash</span><pre class=\"shiki rose-pine-moon\" style=\"background-color: #232136\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #EA9A97\">cat</span><span style=\"color: #E0DEF4\"> </span><span style=\"color: #F6C177\">/proc/169931/maps</span></span></code></pre></div></li>\n<li><p>我们只需要这个</p>\n<div class=\"language-bash\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">bash</span><pre class=\"shiki rose-pine-moon\" style=\"background-color: #232136\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #EA9A97\">10000000-10001000</span><span style=\"color: #E0DEF4\"> </span><span style=\"color: #F6C177\">r--p</span><span style=\"color: #E0DEF4\"> </span><span style=\"color: #EA9A97\">00000000</span><span style=\"color: #E0DEF4\"> </span><span style=\"color: #EA9A97\">103</span><span style=\"color: #F6C177\">:05</span><span style=\"color: #E0DEF4\"> </span><span style=\"color: #EA9A97\">9058552</span><span style=\"color: #E0DEF4\">                           </span><span style=\"color: #F6C177\">/home/anicaa/Games/netease-cloud-music/drive_c/Program</span><span style=\"color: #E0DEF4\"> </span><span style=\"color: #F6C177\">Files</span><span style=\"color: #E0DEF4\"> (x86)/NetEase/CloudMusic/cloudmusic.dll</span></span></code></pre></div><p><code>/proc/[pid]/maps</code>文件中的每一行都遵循下面的格式：</p>\n<div class=\"language-bash\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">bash</span><pre class=\"shiki rose-pine-moon\" style=\"background-color: #232136\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #EA9A97\">address</span><span style=\"color: #E0DEF4\">           </span><span style=\"color: #F6C177\">perms</span><span style=\"color: #E0DEF4\"> </span><span style=\"color: #F6C177\">offset</span><span style=\"color: #E0DEF4\">  </span><span style=\"color: #F6C177\">dev</span><span style=\"color: #E0DEF4\">   </span><span style=\"color: #F6C177\">inode</span><span style=\"color: #E0DEF4\">      </span><span style=\"color: #F6C177\">pathname</span></span></code></pre></div><ul>\n<li><code>address</code>：这个内存段的地址范围（起始地址-结束地址）。</li>\n<li><code>perms</code>：内存段的权限，例如<code>r</code>表示可读，<code>w</code>表示可写，<code>x</code>表示可执行。</li>\n<li><code>offset</code>：映射文件的偏移量。</li>\n<li><code>dev</code>：设备号。</li>\n<li><code>inode</code>：文件的inode号，如果该内存段不是映射自文件，则为0。</li>\n<li><code>pathname</code>：映射自的文件路径，可能是动态库、程序的二进制文件或其他。</li>\n</ul>\n</li>\n</ol>\n","feature":true,"text":"0. 前言 使用 ArchLinux 以及 Manjaro 这两个kde下的系统时，窗体以及桌面效果其实已经能够几乎完美的模仿macOS了。唯一觉得很尴尬的就是...","permalink":"/post/Lyrics On Panel -- KDE PLASMA下基于QML的小组件的开发","photos":[],"count_time":{"symbolsCount":"23k","symbolsTime":"21 mins."},"categories":[{"name":"Linux","slug":"Linux","count":3,"path":"api/categories/Linux.json"}],"tags":[{"name":"Linux","slug":"Linux","count":4,"path":"api/tags/Linux.json"},{"name":"QT","slug":"QT","count":1,"path":"api/tags/QT.json"},{"name":"QML","slug":"QML","count":1,"path":"api/tags/QML.json"},{"name":"KDE","slug":"KDE","count":1,"path":"api/tags/KDE.json"},{"name":"Plasma","slug":"Plasma","count":1,"path":"api/tags/Plasma.json"},{"name":"Arch","slug":"Arch","count":1,"path":"api/tags/Arch.json"},{"name":"Manjaro","slug":"Manjaro","count":1,"path":"api/tags/Manjaro.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#0-%E5%89%8D%E8%A8%80\"><span class=\"toc-text\">0. 前言</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#1-%E9%A1%B9%E7%9B%AE%E7%BB%93%E6%9E%84\"><span class=\"toc-text\">1. 项目结构</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#2-%E5%A6%82%E4%BD%95%E6%89%BE%E5%88%B0%E7%B3%BB%E7%BB%9F%E8%87%AA%E5%B8%A6%E7%BB%84%E4%BB%B6%E5%92%8C%E4%BD%A0%E5%B7%B2%E7%BB%8F%E4%B8%8B%E8%BD%BD%E7%9A%84%E7%BB%84%E4%BB%B6\"><span class=\"toc-text\">2. 如何找到系统自带组件和你已经下载的组件</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#3-%E8%B0%83%E8%AF%95%E7%BB%84%E4%BB%B6\"><span class=\"toc-text\">3. 调试组件</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#4-mpris2\"><span class=\"toc-text\">4. mpris2</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#5-QML\"><span class=\"toc-text\">5. QML</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#5-1-Text\"><span class=\"toc-text\">5.1 Text</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#5-2-Plasma-Widget-Tutorial\"><span class=\"toc-text\">5.2 Plasma Widget Tutorial</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#5-2-1-Plasmoid-fullRepresentation\"><span class=\"toc-text\">5.2.1 Plasmoid.fullRepresentation</span></a></li></ol></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#5-3-Configuration\"><span class=\"toc-text\">5.3 Configuration</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#5-3-1-Kirigami2\"><span class=\"toc-text\">5.3.1 Kirigami2</span></a></li></ol></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#6-%E6%AD%8C%E8%AF%8D%E6%BA%90\"><span class=\"toc-text\">6. 歌词源</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#7-XHR\"><span class=\"toc-text\">7.XHR</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#8-%E7%B2%BE%E5%BA%A6%E9%97%AE%E9%A2%98\"><span class=\"toc-text\">8. 精度问题</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#9-%E5%9B%BE%E6%A0%87\"><span class=\"toc-text\">9. 图标</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#10-Wine%E7%89%88%E6%9C%AC%E7%BD%91%E6%98%93%E4%BA%91%E9%9F%B3%E4%B9%90%E6%AD%8C%E8%AF%8D\"><span class=\"toc-text\">10. Wine版本网易云音乐歌词</span></a></li></ol>","author":{"name":"Kangwei Zhu","slug":"blog-author","avatar":"https://avatars.githubusercontent.com/u/93107633?v=4","link":"/","description":"偏我来时不逢春，偏我去时春满城","socials":{"github":"https://github.com/KangweiZhu","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"leetcode":{"icon":"/svg/leetcode-svgrepo-com.svg","link":"https://leetcode.com/anicaaovo/"}}}},"mapped":true,"hidden":false,"prev_post":{"title":"","uid":"f73a8e23e6f6f669cf99c7dba8fa0722","slug":"Vue3.0 笔记","date":"2024-04-03T11:40:41.910Z","updated":"2024-04-03T11:46:18.595Z","comments":true,"path":"api/articles/Vue3.0 笔记.json","keywords":"Kangwei Zhu's Blog","cover":null,"text":"Vue3.0 笔记1. Setup1.1 使用CDNjs&lt;script src=&quot;https://unpkg.com/vue@3/dist/vu...","permalink":"/post/Vue3.0 笔记","photos":[],"count_time":{"symbolsCount":116,"symbolsTime":"1 mins."},"categories":[],"tags":[],"author":{"name":"Kangwei Zhu","slug":"blog-author","avatar":"https://avatars.githubusercontent.com/u/93107633?v=4","link":"/","description":"偏我来时不逢春，偏我去时春满城","socials":{"github":"https://github.com/KangweiZhu","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"leetcode":{"icon":"/svg/leetcode-svgrepo-com.svg","link":"https://leetcode.com/anicaaovo/"}}}},"feature":true},"next_post":{"title":"Manjaro配置","uid":"c71ccdef1ed9d7776e2a0eeec0e84e3a","slug":"Manjaro配置","date":"2024-02-25T01:34:49.000Z","updated":"2024-04-06T15:08:06.043Z","comments":true,"path":"api/articles/Manjaro配置.json","keywords":"Kangwei Zhu's Blog","cover":"/img/rice.jpg","text":"Manjaro配置 Kde Plasma6距离发布还有三天。Manjaro kde的graphic plaform已经从默认x11切换成wayland。先前使用...","permalink":"/post/Manjaro配置","photos":[],"count_time":{"symbolsCount":"14k","symbolsTime":"13 mins."},"categories":[{"name":"Linux","slug":"Linux","count":3,"path":"api/categories/Linux.json"}],"tags":[{"name":"Linux","slug":"Linux","count":4,"path":"api/tags/Linux.json"}],"author":{"name":"Kangwei Zhu","slug":"blog-author","avatar":"https://avatars.githubusercontent.com/u/93107633?v=4","link":"/","description":"偏我来时不逢春，偏我去时春满城","socials":{"github":"https://github.com/KangweiZhu","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"leetcode":{"icon":"/svg/leetcode-svgrepo-com.svg","link":"https://leetcode.com/anicaaovo/"}}}},"feature":true}}